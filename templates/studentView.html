<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Student View</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" charset="utf-8"></script>
    <style>
        .nav-link {
        font-weight: bold;
        }
        .navbar {
            background: whitesmoke;
            font-family: Arial, Helvetica, sans-serif;
            padding-right: 15px;
            padding-left: 15px;
            top: 0;
            left: 0;
        }
        .navdiv{
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .logo img{
            width: 20rem;
            top:0;
            left: 220px;
            margin-right: -200px;
        }
        li {
            list-style: none;
            display: inline-block;
        }
        li a{
            color:black;
            font-size: 18px;
            font-weight: bold;
            margin-right: 10px;
            padding-right: 187x;
        }
        .upload{
        width: 100px;
        position: relative;
        margin-top: 50px;
        margin-left: 80px;
        }

        .upload img{
        border-radius: 50%;
        border: 6px solid #eaeaea;
        }

        .upload .round{
        position: absolute;
        bottom: 0;
        right: 0;
        background: #00B4FF;
        width: 32px;
        height: 32px;
        line-height: 33px;
        text-align: center;
        border-radius: 50%;
        overflow: hidden;
        }

        .upload .round input[type = "file"]{
        position: absolute;
        transform: scale(2);
        opacity: 0;
        }

        input[type=file]::-webkit-file-upload-button{
            cursor: pointer;
        }
        .greetings h4 {
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
            margin-top: -60px;
            margin-left: -820px;
            font-size: large;
            margin-bottom: 60px;
        }

        .image-container {
        display: flex;
        margin-left: 140px;
        margin-top: 20px;
        flex-wrap: wrap; /* Allow items to wrap to the next row */
        justify-content: space-between; /* Distribute space between items */
        }

        /* .card {
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        max-width: 300px;
        height: 400px; 
        width: calc(33.33% - 5px);
        text-align: center;
        font-family: arial;
        margin-right: 20px; 
        margin-bottom: 20px; 
        display: flex;
        flex-direction: column;
        overflow: hidden; 
        } */

        .card {
    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
    width: 300px; /* Set a fixed width for all cards */
    height: 400px; /* Set a fixed height for all cards */
    margin: 10px; /* Add margin to create spacing between cards */
    text-align: center;
    font-family: arial;
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Hide overflowing content */
}


        .card img {
        width: 100%; /* Ensure the image takes the full width of the card */
        height: 100%; /* Set a fixed height for all images */
        object-fit: cover; /* Maintain aspect ratio and cover the entire container */
        }

        .image-container p {
        font-size: small;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        box-sizing: border-box;
        border-radius: 30px;
        margin-bottom: 30px;
        }

        h5 {
        color: #fff;
        margin-top: 60px; /* Reduced top margin */
        font-size: 20px;
        font-weight: bold;
        background-color: #800000;
        padding: 8px;
        text-align: center;
        margin-bottom: 60px; /* Added bottom margin for closer spacing */
        margin-left: 200px;
        width: 75%;
        margin-top: 70px;
        }

        .card button {
        border: none;
        outline: 0;
        padding: 12px;
        color: white;
        background-color: #800000;
        text-align: center;
        cursor: pointer;
        width: 100%;
        font-size: 18px;
        }

        .card button:hover {
        opacity: 0.7;
        }
        .slogan {
                font-family: 'Arial narrow';
                font-weight: 600;
                font-size: 25px;
                text-align: center;
                padding-top: 10px;      
                padding-bottom: -50px;
                word-spacing: 10px;
                letter-spacing: 1px;
        }
        .slogan span{
                font-size: 35px;
                color: #8B0000;
                text-decoration: line-through;
        }
        .pagination {
            text-align: center;
            margin-left: auto;
            margin-right: 600px;
            margin-top: 30px;
            user-select: none;
        }
        .pagination li{
            /* display: inline-block; */
            margin: 5px;
            /* box-shadow: 0 5px 25px rgb(1 1 1 / 10%); */
        }
        .pagination li a{
            color: #000;
            text-decoration: none;
            font-size: 1.0em;
            line-height: 25px;
        }
        .previous-page, .next-page{
            /* background: #800000; */
            width: 50px;
            border-radius: 15px;
            cursor: pointer;
            transition: 0.3s ease;
        }
        .previous-page:hover{
            transform: translateX(-5px);
        }
        .next-page:hover{
            transform: translateX(-5px);
        }
        .page-item.active .page-link {
            background-color: #800000;
            color: #fff;
            border-color: #fff;
        }
        .current-page, .dots{
            background: #ccc;
            width: 45px;
            border-radius: 50%;
            cursor: pointer;
        }
        .active{
            background: #800000;
        }
        .disable{
            background: #ccc;
        } 
</style>
</head>
  <body>
    <nav class="navbar">
        <div class="navdiv">
            <div class="logo" style="width: 134.5rem;">
                <a href="/"><img src="/assets/TARUMT.png" alt="" class="img-fluid"></a>
            </div>
            <ul class="ml-auto"> <!-- Use ml-auto to push the list to the right -->
                <li><a href="/student/profile">Profile</a></li>
                <li><a href="/student/logout"><span class="glyphicon glyphicon-log-out"></span></a></li>
            </ul>
        </div>
    </nav>
    <div class="upload">
        <img id="preview" src="{{ stud_pfp }}" width="100" height="100" alt="">
        <div class="round">
          <i class="fa fa-camera" style="color: #fff;"></i>
        </div>
      </div>
    <div class="greetings">
        <h4><strong>Welcome, {{ student_name }}</strong></h4>
    </div>
    <div class="slogan">- BELIEVE <span>YOU</span> ARE STRONGER THAN <span>YOU</span> KNOW -</div>
    <br>
    <div class="image-container">      
        <div class="row" id="company-cards">
            {% for card in card_data %}
                <div class="card">
                        <img src="{{ card['company_img'] }}">
                        <h4 style="font-weight: bold;">{{ card['company_name'] }}</h4>
                        <p>{{ card['job_title'] }}</p>
                        <p><a href="/student/jobDes/{{ card['job_link'] }}"><button>Browse Jobs</button></a></p>
                </div>
            {% endfor %}
    </div>
         <div class="pagination">
            <li class="page-item previous-page disable"><a href="#" class="page-link">Prev</a></li>
                <li class="page-item current-page active"><a href="#" class="page-link">1</a></li>
                <li class="page-item dots"><a href="#" class="page-link">...</a></li>
                <li class="page-item current-page"><a href="#" class="page-link">5</a></li>
                <li class="page-item current-page"><a href="#" class="page-link">6</a></li>
                <li class="page-item dots"><a href="#" class="page-link">...</a></li>
                <li class="page-item current-page"><a href="#" class="page-link">10</a></li>
                <li class="page-item next-page"><a href="#" class="page-link">Next</a></li>
         </div>
    </div>
    <script type="text/javascript">

        $(document).ready(function () {
    const cards = $(".card");
    const cardsPerPage = 8;
    let currentPage = 1;

    function showPage(page) {
        cards.hide();
        cards.slice((page - 1) * cardsPerPage, page * cardsPerPage).show();
    }

    function updatePaginationButtons() {
        const totalPages = Math.ceil(cards.length / cardsPerPage);
        const pagination = $(".pagination");

        pagination.empty();

        if (totalPages > 1) {
            pagination.append(
                '<li class="page-item previous-page"><a class="page-link" href="#">Prev</a></li>'
            );

            for (let i = 1; i <= totalPages; i++) {
                pagination.append(
                    `<li class="page-item ${i === currentPage ? 'active' : ''}"><a class="page-link" href="#">${i}</a></li>`
                );
            }

            pagination.append(
                '<li class="page-item next-page"><a class="page-link" href="#">Next</a></li>'
            );

            $(".pagination li").on("click", function () {
                if ($(this).hasClass("previous-page")) {
                    currentPage--;
                } else if ($(this).hasClass("next-page")) {
                    currentPage++;
                } else {
                    currentPage = parseInt($(this).text());
                }

                showPage(currentPage);
                updatePaginationButtons();
            });
        }

        $(".previous-page").toggleClass("disable", currentPage === 1);
        $(".next-page").toggleClass(
            "disable",
            currentPage === totalPages || totalPages === 0
        );
    }

    showPage(currentPage);
    updatePaginationButtons();
});

    </script>
    
  </body>
</html>
